(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{147:e=>{e.exports={button:"Button_button__exqP_",disabled:"Button_disabled__8r9g4"}},1165:e=>{e.exports={header_wrapper:"Header_header_wrapper__dfZJH",header_content:"Header_header_content__5NiK2",header_logo_box:"Header_header_logo_box__GeDMP",header_logo_wrapper:"Header_header_logo_wrapper___B4vA",header_logo_text:"Header_header_logo_text__haaKx",header_btn_wrapper:"Header_header_btn_wrapper__HOKg4",header_nav_wrapper:"Header_header_nav_wrapper__8IQtL"}},3971:()=>{},4065:(e,r,a)=>{Promise.resolve().then(a.bind(a,5581))},4256:e=>{e.exports={radio_buttons:"RadioButton_radio_buttons__dSHoX",pure_material_radio:"RadioButton_pure_material_radio__RA7Ic",radio_buttons_title:"RadioButton_radio_buttons_title__CYMLj"}},4623:e=>{e.exports={form:"Form_form__ngj4g",form_title:"Form_form_title__dCWru",form_content_wrapper:"Form_form_content_wrapper__HM9kw",upload_container:"Form_upload_container__IrOC3",upload_button:"Form_upload_button__ZM9hq",image_input_wrapper:"Form_image_input_wrapper__I9iyQ",image_preview:"Form_image_preview__h6nM4",radio_buttons__title:"Form_radio_buttons__title__j0cTx",form_label:"Form_form_label__HWyrw",form_input:"Form_form_input__5FFsH",form_input_last:"Form_form_input_last__vORmL",img_input:"Form_img_input__KKpRV",form_btn_wrapper:"Form_form_btn_wrapper__N5Y1U",submit_btn:"Form_submit_btn__DCVdI",checkbox_title:"Form_checkbox_title__tEKmk",custom_radio:"Form_custom_radio__8JbuK",btn_wrapper:"Form_btn_wrapper__afl7_",success_img:"Form_success_img__5Jgj4",input_error:"Form_input_error__5rPD2",radio_wrapper:"Form_radio_wrapper__iFhCg",success_screen:"Form_success_screen__2FU8r",success_title:"Form_success_title__CnrbL",radio_button:"Form_radio_button__oEztS",image_preview_container:"Form_image_preview_container__JUUWb",placeholder:"Form_placeholder__SiFjP",error_message:"Form_error_message__M61_N",file_name:"Form_file_name__GCzYd",error_border:"Form_error_border__RFqnW",error_btn_input:"Form_error_btn_input__p7_Ch"}},5581:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>H});var t=a(5155),n=a(2115),s=a(1165),o=a.n(s),_=a(147),i=a.n(_);let l=e=>{let{children:r,onClick:a,disabled:n,className:s,href:o}=e,_=[i().button,s].join(" ");return(0,t.jsx)("a",{className:_,href:o,onClick:a,"aria-disabled":n,children:r})};var m=a(6766);let d=()=>(0,t.jsx)("header",{className:o().header_wrapper,children:(0,t.jsxs)("div",{className:o().header_content,children:[(0,t.jsxs)("div",{className:o().header_logo_box,children:[(0,t.jsx)("div",{className:o().header_logo_wrapper,children:(0,t.jsx)(m.default,{src:"/images/header_logo.webp",alt:"Logo",width:"39",height:"26"})}),(0,t.jsx)("h1",{className:o().header_logo_text,children:"TESTTASK"})]}),(0,t.jsxs)("div",{className:o().header_nav_wrapper,children:[(0,t.jsx)("div",{className:o().header_btn_wrapper,children:(0,t.jsx)(l,{href:"#teamMembers",className:o().test,children:"Users"})}),(0,t.jsx)("div",{className:o().header_btn_wrapper,children:(0,t.jsx)(l,{href:"#signUpForm",className:o().test,children:"Sign up"})})]})]})});var c=a(9300),p=a.n(c),u=a(9529),h=a.n(u);let b=()=>(0,t.jsx)("div",{className:h().banner_content_box,children:(0,t.jsx)("div",{className:h().banner_content,children:(0,t.jsxs)("div",{className:h().banner_text_box,children:[(0,t.jsx)("h1",{className:h().banner_title,children:"Test assignment for front-end developer"}),(0,t.jsx)("p",{className:h().bannner_text,children:"What defines a good front-end developer is one that has skilled knowledge of HTML, CSS, JS with a vast understanding of User design thinking as theyll be building web interfaces with accessibility in mind. They should also be excited to learn, as the world of Front-End Development keeps evolving."}),(0,t.jsx)(l,{href:"#signUpForm",className:p()(h().banner_btn),children:"Sign up"})]})})});var g=a(8017),x=a.n(g),j=a(9317),f=a.n(j);let w={src:"/_next/static/media/Preloader.bae432ed.webp",height:48,width:48,blurDataURL:"data:image/webp;base64,UklGRrAAAABXRUJQVlA4WAoAAAAQAAAABwAABwAAQUxQSDgAAAABYBvJVpvDN8SnBZBr1UuRQhf/8iIiMIT5zhiATgXAMszJgCE8S8BY4rsPWMu0iXaGqgW5/n8XAFZQOCBSAAAAEAIAnQEqCAAIAAJAOCWwAnS6AfgAgAAAAADeX5l7g/ksr6fn4jC6cwOmNvyGLDVhNRtvA7P/gyRl0VCHRODSh/9vLxCfQOXY6f/ZAPZAP37gAA==",blurWidth:8,blurHeight:8},v=()=>(0,t.jsx)("div",{className:f().preloader,children:(0,t.jsx)(m.default,{className:f().loader,src:w,alt:"Loading...",width:100,height:100,priority:!0})}),N=e=>{let{children:r,onClick:a=()=>{},disabled:n=!1,type:s="button",className:o=""}=e,_=[i().button,o,n?i().disabled:""].join(" ");return(0,t.jsx)("button",{className:_,onClick:a,disabled:n,type:s,children:r})},A="https://frontend-test-assignment-api.abz.agency/api/v1",F=()=>{let[e,r]=(0,n.useState)([]),[a,s]=(0,n.useState)(1),[o,_]=(0,n.useState)(!1),[i,l]=(0,n.useState)(null),[m,d]=(0,n.useState)(!0);(0,n.useEffect)(()=>{c(a)},[]);let c=async e=>{_(!0);try{let a=await fetch("".concat(A,"/users?page=").concat(e,"&count=6")),t=await a.json();if(t.success){let e=t.users;e.length>0?r(r=>[...r,...e].sort((e,r)=>r.registration_timestamp-e.registration_timestamp)):d(!1)}else d(!1)}catch(e){l(e)}finally{_(!1)}},u=e=>{e.currentTarget.src="https://placehold.co/80x80?text=Oopss...",e.currentTarget.className=x().member_photo};return(0,t.jsxs)("div",{id:"teamMembers",className:x().team_members,children:[(0,t.jsx)("h2",{className:x().members_title,children:"Working with GET request"}),(0,t.jsx)("div",{className:x().members_grid,children:(0,t.jsx)("ul",{className:x().members_list,children:e.map(e=>(0,t.jsx)("li",{className:x().member_card,children:(0,t.jsxs)("div",{className:x().member_text_wrapper,children:[(0,t.jsx)("img",{src:e.photo,alt:e.name,className:p()(x().member_photo,{[x().error_photo]:!e.photo}),onError:u}),(0,t.jsx)("p",{className:x().member_title,children:e.name}),(0,t.jsx)("p",{className:x().member_text,children:e.position}),(0,t.jsx)("p",{className:x().member_text,children:e.email}),(0,t.jsx)("p",{className:x().member_text,children:e.phone})]})},e.id))})}),o&&(0,t.jsx)(v,{}),i&&(0,t.jsxs)("div",{children:["Error: ",i.message]}),(0,t.jsx)("div",{className:x().btn_wrapper,children:m&&!o&&(0,t.jsx)(N,{onClick:()=>{let e=a+1;s(e),c(e)},children:"Show more"})})]})};a(3971);var y=a(4623),S=a.n(y),C=a(9139),k=a.n(C);let M=(0,n.forwardRef)((e,r)=>{let{errorMessage:a,value:n,type:s,placeholder:o,onFocus:_,onBlur:i,onChange:l,name:m,tooltip:d}=e,c="".concat(m+Date.now());return(0,t.jsxs)("div",{className:k().input_wrapper,children:[(0,t.jsxs)("div",{className:k().form_group,children:[(0,t.jsx)("input",{ref:r,type:s,id:c,className:p()(k().form_field,{[k().notValid]:a}),placeholder:o,onFocus:_,onChange:l,onBlur:i,value:n,name:m}),(0,t.jsx)("label",{htmlFor:c,className:k().form_label,children:o})]}),a&&(0,t.jsx)("span",{className:k().error_message,children:a}),d&&(0,t.jsx)("span",{className:k().tooltip,children:d})]})});M.displayName="Input";var B=a(2251);let E=e=>{let{value:r,onFocus:a,onBlur:s,onChange:o,name:_,...i}=e,l=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(l.current){let e=(0,B.Ay)(l.current,{mask:"+380 (00) 000-00-00"});return e.on("accept",()=>{if(o&&l.current){let r=new Event("input",{bubbles:!0});Object.defineProperty(r,"target",{value:{value:e.value},writable:!0}),o(r)}}),()=>e.destroy()}},[o]),(0,t.jsxs)("div",{children:[(0,t.jsx)(M,{ref:l,value:r,onFocus:a,onBlur:s,onChange:o,name:_,placeholder:"Phone",...i}),(0,t.jsx)("label",{className:k().label_phone,htmlFor:"phone",children:"+38 (XX) XXX - XX - XX"})]})};var I=a(4256),T=a.n(I);let P=e=>{let{position:r,selectedPosition:a,onChange:n}=e;return r?(console.log(">>>>>",a,r.name,r),(0,t.jsxs)("label",{className:T().pure_material_radio,children:[(0,t.jsx)("input",{type:"radio",value:r.id,name:"group",checked:a===String(r.id),onChange:e=>{n&&n(e.target.value)},className:T().radio_buttons__input}),(0,t.jsx)("span",{className:T().radio_buttons__span,children:r.name})]},r.id)):null};var L=a(9694),R=a(7129);let q=e=>{let{validTypes:r=["image/jpeg","image/jpg","image/png"],maxSize:a=5242880,minWidth:t=200,minHeight:s=200,maxWidth:o=5e3,maxHeight:_=5e3}=e,[i,l]=(0,n.useState)(""),[m,d]=(0,n.useState)(""),c=e=>new Promise((r,a)=>{let t=new Image;t.onload=()=>r(!0),t.onerror=()=>a(Error("Invalid image")),t.src=URL.createObjectURL(e)}),p=e=>new Promise((r,a)=>{let n=new Image;n.onload=()=>{n.width<t||n.height<s?a(Error("Image size should be at least ".concat(t,"x").concat(s,"px"))):n.width>o||n.height>_?a(Error("Image size should not exceed ".concat(o,"x").concat(_,"px"))):r(!0)},n.onerror=()=>a(Error("Invalid image.")),n.src=URL.createObjectURL(e)});return{imageError:i,fileName:m,handleFileChange:(0,n.useCallback)(async(e,t)=>{if(e){if(!r.includes(e.type)){l("Only JPG and PNG images are allowed."),t("photo",null);return}if(e.size>a){l("Image size shouldn't exceed 5MB."),t("photo",null);return}try{await c(e),await p(e),t("photo",e),d(e.name),l("")}catch(e){l(e.message),t("photo",null)}}},[r,a,t,s,o,_])}},U=function(e,r){let[a,t]=(0,n.useState)(!1),[s,o]=(0,n.useState)(null);return{makeRequest:async a=>{t(!0),o(null);try{let t=await fetch(e,{method:r,headers:{Accept:"application/json",..."GET"!==r&&{"Content-Type":"application/json"}},..."GET"!==r&&a&&{body:JSON.stringify(a)}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(e){o(e.message||"Something went wrong")}finally{t(!1)}},loading:a,error:s}},O=()=>{let e=(0,n.useRef)(null),[r,a]=(0,n.useState)([]),[s,o]=(0,n.useState)(""),[_,i]=(0,n.useState)(!1),[l,m]=(0,n.useState)(!1),{imageError:d,fileName:c,handleFileChange:u}=q({}),{makeRequest:h,loading:b,error:g}=U("".concat(A,"/users"),"POST"),{makeRequest:x,loading:j,error:f}=U("".concat(A,"/positions"),"GET");(0,n.useEffect)(()=>{(async()=>{try{let e=await x();if(a(e.positions),m(!0),e.positions.length>0){let r=e.positions[0].id;o(String(r)),T("position",r)}}catch(e){console.error("Error with getting postion:",f)}})()},[]);let w=R.Ik({name:R.Yj().min(3,"Name must have at least 3 symbols").required("Name is required."),email:R.Yj().matches(/^[^\s@]+@[^\s@]+\.[a-zA-Z]{2,3}$/,"must to be '@', and domain name").required("Email is required."),phone:R.Yj().min(3,"Phone must have at least 3 numbers").required("Phone is required."),position:R.Yj().required("Position is required."),photo:R.gl().required("Photo is required.")}),{values:F,errors:y,touched:C,handleChange:k,handleBlur:B,handleSubmit:I,setFieldValue:T,isValid:O,dirty:X}=(0,L.Wx)({initialValues:{name:"",email:"",phone:"",position:s,photo:null},validationSchema:w,onSubmit:async(e,r)=>{let{setFieldError:a}=r,t=new FormData;t.append("name",e.name),t.append("email",e.email),t.append("phone",e.phone),t.append("position_id",s),t.append("photo",e.photo);try{await h(t),i(!0)}catch(e){a("photo","Failed to send data")}}}),H=(0,n.useCallback)(()=>{var r;null===(r=e.current)||void 0===r||r.click()},[]),Y=(0,n.useCallback)(e=>{var r;let a=null===(r=e.target.files)||void 0===r?void 0:r[0];a&&u(a,T)},[u,T]),J=(0,n.useCallback)(e=>e.length<=20?e:"".concat(e.substring(0,7),"...").concat(e.substring(e.length-10)),[]);return!l||b||j?(0,t.jsx)(v,{}):(0,t.jsx)(t.Fragment,{children:_?(0,t.jsxs)("div",{className:S().success_screen,children:[(0,t.jsx)("h4",{className:S().success_title,children:"User successfully registered"}),(0,t.jsx)("img",{src:"./images/Success.png",alt:"Success",className:S().success_img})]}):(0,t.jsxs)("form",{className:S().form,id:"signUpForm",onSubmit:I,children:[(0,t.jsx)("h3",{className:S().form_title,children:"Working with POST request"}),(0,t.jsxs)("div",{className:S().form_content_wrapper,children:[(0,t.jsx)(M,{id:"name",value:F.name,type:"text",placeholder:"Your name",onChange:k,onBlur:B,name:"name",errorMessage:C.name&&y.name}),(0,t.jsx)(M,{id:"email",value:F.email,type:"email",placeholder:"Email",onChange:k,onBlur:B,name:"email",errorMessage:C.email&&y.email}),(0,t.jsx)(E,{id:"phone",value:F.phone,type:"tel",placeholder:"Phone",onChange:k,onBlur:B,name:"phone",errorMessage:C.phone&&y.phone}),(0,t.jsxs)("div",{className:S().radio_wrapper,children:[(0,t.jsx)("h2",{className:S().radio_buttons__title,children:"Select your position"}),r.map(e=>(0,t.jsx)(P,{position:e,selectedPosition:s,onChange:e=>{o(e),T("position",e)}},e.id))]}),(0,t.jsxs)("div",{className:p()(S().upload_container,{[S().error_border]:d}),children:[(0,t.jsx)("button",{type:"button",onClick:H,className:p()(S().upload_button,{[S().error_btn_input]:d}),children:"Upload"}),(0,t.jsx)("input",{ref:e,className:S().img_input,type:"file",name:"photo",onChange:Y,onBlur:B,style:{display:"none"}}),(0,t.jsx)("div",{className:S().image_preview_container,children:c?J(c):"Upload your photo"}),d&&(0,t.jsx)("div",{className:S().error_message,children:d})]}),(g||f)&&(0,t.jsx)("div",{className:S().error_message,children:g||f}),(0,t.jsx)("div",{className:S().form_btn_wrapper,children:(0,t.jsx)(N,{type:"submit",disabled:!O||!X||b,className:S().btn_submit,children:"Sign up"})})]})]})})};function X(){return(0,t.jsxs)("div",{className:"content",children:[(0,t.jsx)(d,{}),(0,t.jsxs)("div",{className:"content_wrapper",children:[(0,t.jsx)(b,{}),(0,t.jsx)(F,{}),(0,t.jsx)(O,{})]})]})}function H(){return(0,t.jsx)(X,{})}},8017:e=>{e.exports={members_grid:"TeamMembers_members_grid__yY5rV",members_list:"TeamMembers_members_list__nSYMb",member_card:"TeamMembers_member_card__KapOK",member_photo:"TeamMembers_member_photo__yRXpY",members_title:"TeamMembers_members_title__Ro_WM",member_text_wrapper:"TeamMembers_member_text_wrapper__J8iCy",member_text:"TeamMembers_member_text__wg9zw",btn_wrapper:"TeamMembers_btn_wrapper__F3Jra",member_title:"TeamMembers_member_title__g9l_L"}},9139:e=>{e.exports={input_wrapper:"Input_input_wrapper__LkBYi",form_group:"Input_form_group__Y4N4s",form_field:"Input_form_field__G9LyV",notValid:"Input_notValid__7FnO6",form_label:"Input_form_label__Wm1_n",label_phone:"Input_label_phone__4dje3",error_message:"Input_error_message__jpb2E",tooltip:"Input_tooltip__hzNI6"}},9317:e=>{e.exports={loader:"Preloader_loader___dKtZ",preloader:"Preloader_preloader__MLeLK"}},9529:e=>{e.exports={banner_content_box:"LandingBanner_banner_content_box__5Cwk_",banner_content:"LandingBanner_banner_content__A_LAK",banner_title:"LandingBanner_banner_title__MIaqg",bannner_text:"LandingBanner_bannner_text__mJk6J",banner_text_box:"LandingBanner_banner_text_box__jMNIi",banner_btn:"LandingBanner_banner_btn__xX_hP"}}},e=>{var r=r=>e(e.s=r);e.O(0,[477,578,441,684,358],()=>r(4065)),_N_E=e.O()}]);